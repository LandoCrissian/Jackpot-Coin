<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jackpot Token (JACKPOT)</title>
  <meta name="description" content="Jackpot Token ‚Äî SOL payouts, verifiable on-chain." />
  <meta name="theme-color" content="#070A0F" />

  <link rel="canonical" href="https://www.jackpotcoin.fun/" />
  <meta property="og:title" content="Jackpot Token (JACKPOT)" />
  <meta property="og:description" content="SOL payouts ‚Ä¢ On-chain verification ‚Ä¢ Live cadence" />
  <meta property="og:url" content="https://www.jackpotcoin.fun/" />
  <meta property="og:image" content="https://raw.githubusercontent.com/LandoCrissian/Jackpot-Coin/refs/heads/main/IMG_9059.jpeg" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
  :root{
    --bg:#070A0F;
    --card:rgba(255,255,255,.04);
    --stroke:rgba(255,255,255,.09);
    --text:#EAF1FB;
    --muted:#9AA4B2;
    --accent:#34D399;
    --accent2:#7C3AED;
    --shadow:0 18px 55px rgba(0,0,0,.55);
    --radius:18px;
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  html{scroll-behavior:smooth}
  body{
    margin:0;
    font-family:var(--sans);
    color:var(--text);
    background:
      radial-gradient(900px 420px at 15% -10%, rgba(52,211,153,.18), transparent 60%),
      radial-gradient(800px 420px at 85% 0%, rgba(124,58,237,.18), transparent 55%),
      var(--bg);
  }

  .wrap{max-width:1040px;margin:0 auto;padding:0 16px 64px}
  .wrapInner{padding-top:14px}

  /* ==========================
     STICKY TOPBAR (single)
  ========================== */
  .topbar{
    position:sticky;
    top:0;
    z-index:999;
    padding: 10px 0;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    background: linear-gradient(180deg, rgba(7,10,15,.82), rgba(7,10,15,.35));
    border-bottom: 1px solid rgba(255,255,255,.07);
    transition: background .18s ease, padding .18s ease, border-color .18s ease;
  }
  .topbar.scrolled{
    background: linear-gradient(180deg, rgba(7,10,15,.90), rgba(7,10,15,.55));
    padding: 8px 0;
    border-bottom-color: rgba(255,255,255,.10);
  }

  /* ==========================
     HEADER LAYOUT (single)
  ========================== */
  .siteHeader{
    display:grid;
    grid-template-columns: 1fr auto;
    grid-template-rows: auto auto;
    gap: 12px;
    align-items:center;
    padding: 6px 0 12px;
  }

  .brand{display:flex;align-items:center;gap:12px;min-width:0}
  .logoImg{
    width:54px;height:54px;border-radius:16px;
    border:1px solid var(--stroke);
    box-shadow:var(--shadow);
    background:rgba(255,255,255,.03);
    object-fit:cover;
    flex:0 0 auto;
  }
  .brandText{min-width:0}
  .brandText h1{margin:0;font-size:18px;letter-spacing:.2px;line-height:1.1}
  .brandText p{margin:5px 0 0;color:var(--muted);font-size:13px;line-height:1.25}

  .ctaRow{
    display:flex;
    gap:10px;
    align-items:center;
    justify-content:flex-end;
    width:auto;
  }

  .btn{
    border:1px solid var(--stroke);
    background:rgba(255,255,255,.03);
    color:var(--text);
    padding:10px 12px;
    border-radius:14px;
    text-decoration:none;
    font-size:13px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    transition:transform .08s ease, background .2s ease, border-color .2s ease;
    -webkit-tap-highlight-color:transparent;
    white-space:nowrap;
    user-select:none;
    border-bottom:none;
  }
  .btn:active{transform:translateY(1px)}
  .btn:hover{background:rgba(255,255,255,.06)}
  .btnPrimary{
    background:linear-gradient(135deg, rgba(52,211,153,.20), rgba(124,58,237,.16));
    border-color:rgba(255,255,255,.11);
  }

  .iconOnly{
    width:44px;
    height:44px;
    border-radius:14px;
    padding:0;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:18px;
    line-height:1;
  }

  /* ==========================
     MENU
  ========================== */
  .menuWrap{ position:relative; }
  .menu{
    position:absolute;
    right:0;
    top:54px;
    width:min(300px, 88vw);
    border:1px solid var(--stroke);
    background:rgba(10,12,18,.92);
    border-radius:16px;
    box-shadow:var(--shadow);
    padding:10px;
    display:none;
  }
  .menu.open{ display:block; }
  .menu a{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:10px 12px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,.06);
    text-decoration:none;
    font-size:13px;
    color:var(--text);
    background:rgba(255,255,255,.02);
    margin:8px 0;
  }
  .menu a:hover{ background:rgba(255,255,255,.06); }
  .menu small{ color:var(--muted); font-size:12px; }
  .menuHr{ height:1px; background:rgba(255,255,255,.08); margin:10px 2px; }

  /* ==========================
     WINNER BANNER (Solana glow)
  ========================== */
  .winnerBanner{
    grid-column: 1 / -1; /* sits under whole header row */
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,.12);
    background:
      radial-gradient(900px 180px at 10% 50%, rgba(0,255,163,.14), transparent 60%),
      radial-gradient(900px 180px at 90% 50%, rgba(220,31,255,.14), transparent 60%),
      rgba(0,0,0,.22);
    box-shadow:
      0 16px 55px rgba(0,0,0,.55),
      0 0 0 1px rgba(255,255,255,.04) inset;
    padding: 12px 12px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 10px;
    position: relative;
    overflow:hidden;
    max-width: 760px;
    margin: 0 auto;
  }

  .winnerBanner::before{
    content:"";
    position:absolute;
    inset:-2px;
    background:
      radial-gradient(520px 120px at 18% 50%, rgba(0,255,163,.22), transparent 60%),
      radial-gradient(520px 120px at 82% 50%, rgba(220,31,255,.18), transparent 60%);
    filter: saturate(1.2);
    pointer-events:none;
  }
  .winnerBanner::after{
    content:"";
    position:absolute;
    top:-40%;
    left:-30%;
    width:60%;
    height:180%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
    transform: rotate(18deg);
    animation: wbSheen 4.8s ease-in-out infinite;
    pointer-events:none;
    opacity:.8;
  }
  @keyframes wbSheen{
    0%, 35% { transform: translateX(-20%) rotate(18deg); opacity:.0; }
    45%     { opacity:.75; }
    70%,100%{ transform: translateX(220%) rotate(18deg); opacity:0; }
  }

  .wbLeft{display:flex; align-items:flex-start; gap:10px; min-width:0; position:relative}
  .wbDot{
    width:10px; height:10px; border-radius:999px;
    background: linear-gradient(135deg, #00FFA3, #DC1FFF);
    box-shadow: 0 0 22px rgba(0,255,163,.55), 0 0 28px rgba(220,31,255,.35);
    margin-top: 4px;
    flex:0 0 auto;
  }
  .wbText{min-width:0; position:relative}
  .wbTop{display:flex; align-items:baseline; gap:10px; flex-wrap:wrap}
  .wbLabel{
    font-size:12px;
    letter-spacing:.8px;
    text-transform:uppercase;
    color: rgba(234,241,251,.70);
  }
  .wbAmt{
    font-family: var(--mono);
    font-weight: 900;
    color: #00FFA3;
    text-shadow: 0 0 16px rgba(0,255,163,.22);
    font-size: 13px;
  }
  .wbBottom{
    margin-top: 6px;
    display:flex;
    align-items:center;
    gap:10px;
    flex-wrap:wrap;
    font-size: 12px;
    color: var(--muted);
  }
  .wbBottom a{
    border-bottom: 1px solid rgba(255,255,255,.18);
    text-decoration:none;
    color: var(--text);
  }
  .wbBottom a:hover{border-bottom-color: rgba(255,255,255,.45)}
  .wbSep{opacity:.55}

  .wbWallet{
    font-family: var(--mono);
    max-width: 54vw;
    overflow:hidden;
    text-overflow:ellipsis;
    white-space:nowrap;
  }

  .wbRight{position:relative; flex:0 0 auto}
  .wbMeta{
    font-family: var(--mono);
    font-size: 12px;
    color: rgba(234,241,251,.75);
    white-space:nowrap;
  }

  /* dim header while scrolling (optional) */
  .siteHeader.isScrolling{ opacity:.95; transition: opacity .22s ease; }

  /* ==========================
     PAGE LAYOUT (unchanged)
  ========================== */
  .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:14px;margin-top:14px}
  @media (max-width:900px){.grid{grid-template-columns:1fr}}

  .card{
    border:1px solid var(--stroke);
    background:var(--card);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:18px;
    overflow:hidden;
    position:relative;
  }
  .cardGlow:before{
    content:"";
    position:absolute;
    inset:-2px;
    background:
      radial-gradient(600px 240px at 18% 0%, rgba(52,211,153,.22), transparent 60%),
      radial-gradient(600px 240px at 82% 0%, rgba(124,58,237,.18), transparent 60%);
    pointer-events:none;
    filter:saturate(1.1);
  }
  .cardGlow>*{position:relative}

  .kicker{
    display:inline-flex;align-items:center;gap:8px;
    padding:7px 10px;border-radius:999px;
    border:1px solid var(--stroke);
    background:rgba(0,0,0,.20);
    color:var(--muted);
    font-size:12px;
    margin-bottom:10px;
  }
  .dot{width:8px;height:8px;border-radius:999px;background:var(--accent);box-shadow:0 0 18px rgba(52,211,153,.55)}
  h2{margin:0 0 6px;font-size:26px;letter-spacing:.2px}
  .sub{margin:0 0 16px;color:var(--muted);font-size:14px;line-height:1.55}

  .statusRow{display:flex;gap:10px;flex-wrap:wrap;margin:0 0 14px}
  .pill{
    font-size:12px;color:var(--muted);
    border:1px solid var(--stroke);
    padding:6px 10px;border-radius:999px;
    background:rgba(255,255,255,.02);
    white-space:nowrap;
    text-decoration:none;
    border-bottom:none;
  }
  .pill strong{color:var(--text);font-weight:700}

  .legacyBanner{
    margin:10px 0 14px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(0,0,0,.22);
    border-radius:16px;
    padding:12px;
    display:none;
  }
  .legacyBanner.show{display:block}
  .legacyBanner h3{margin:0 0 6px;font-size:12px;letter-spacing:.9px;text-transform:uppercase;color:var(--muted)}
  .legacyBanner p{margin:0;color:var(--muted);font-size:13px;line-height:1.45}
  .legacyBanner b{color:var(--text)}

  .countWrap{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
  @media (max-width:520px){.countWrap{grid-template-columns:repeat(2,1fr)}}
  .timeBox{
    border:1px solid var(--stroke);
    background:rgba(0,0,0,.22);
    border-radius:16px;
    padding:12px 12px 10px;
    min-height:74px;
  }
  .timeLabel{color:var(--muted);font-size:12px;margin-bottom:6px;letter-spacing:.2px}
  .timeVal{font-family:var(--mono);font-weight:800;font-size:22px;letter-spacing:1px}
  .timeValAccent{color:var(--accent)}

  .rowTitle{display:flex;align-items:center;justify-content:space-between;gap:10px;margin:16px 0 10px}
  .rowTitle .label{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.8px}
  .addr{
    display:flex;align-items:center;justify-content:space-between;gap:10px;
    border:1px solid var(--stroke);
    background:rgba(0,0,0,.25);
    border-radius:16px;
    padding:10px 10px 10px 12px;
  }
  .addr code{
    font-family:var(--mono);
    font-size:12.5px;
    overflow:hidden;text-overflow:ellipsis;white-space:nowrap;
  }
  .miniBtn{
    border:1px solid var(--stroke);
    background:rgba(255,255,255,.03);
    color:var(--text);
    border-radius:12px;
    padding:9px 10px;
    font-size:12px;
    cursor:pointer;
    -webkit-tap-highlight-color:transparent;
  }
  .miniBtn:active{transform:translateY(1px)}

  .trust{margin-top:14px;border:1px solid var(--stroke);background:rgba(0,0,0,.18);border-radius:16px;padding:12px}
  .trust h3{margin:0 0 8px;font-size:12px;letter-spacing:.9px;text-transform:uppercase;color:var(--muted)}
  .trust ul{margin:0;padding-left:18px}
  .trust li{margin:6px 0;color:var(--muted);font-size:13px;line-height:1.45}
  .trust b{color:var(--text);font-weight:700}

  .sectionHead{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px}
  .sectionHead h3{margin:0;font-size:12px;letter-spacing:.9px;text-transform:uppercase;color:var(--muted)}
  .badge{
    display:inline-flex;align-items:center;gap:6px;border:1px solid var(--stroke);
    background:rgba(255,255,255,.02);color:var(--muted);
    padding:6px 10px;border-radius:999px;font-size:12px;white-space:nowrap;
  }
  .badge strong{color:var(--text);font-weight:700}

  .winners{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
  .win{
    border:1px solid var(--stroke);
    background:rgba(0,0,0,.18);
    border-radius:16px;
    padding:12px;
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:10px;
  }
  .winLeft{min-width:0}
  .who{
    font-family:var(--mono);
    font-size:13px;
    white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    max-width:62vw;
  }
  .meta{
    margin-top:6px;font-size:12px;color:var(--muted);
    line-height:1.35;display:flex;flex-wrap:wrap;gap:8px;align-items:center;
  }
  a{color:var(--text);text-decoration:none;border-bottom:1px solid rgba(255,255,255,.18)}
  a:hover{border-bottom-color:rgba(255,255,255,.45)}
  .amt{font-family:var(--mono);font-weight:900;font-size:13px;color:var(--accent);white-space:nowrap}

  .iconBtn{
    border:1px solid var(--stroke);
    background:rgba(255,255,255,.03);
    color:var(--text);
    border-radius:999px;
    padding:6px 10px;
    font-size:12px;
    cursor:pointer;
    -webkit-tap-highlight-color:transparent;
    display:inline-flex;
    align-items:center;
    gap:6px;
    text-decoration:none;
    border-bottom:none;
  }
  .iconBtn:hover{background:rgba(255,255,255,.06)}
  .foot{margin-top:12px;color:var(--muted);font-size:12px;line-height:1.55}

  .toast{
    margin-top:10px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(0,0,0,.25);
    color:var(--muted);
    padding:10px 12px;
    border-radius:14px;
    font-size:12px;
    display:none;
  }
  .toast.show{display:block}

  aside.card{ max-height: 560px; display:flex; flex-direction:column; }
  #winnersList{ overflow:auto; max-height: 440px; padding-right: 6px; -webkit-overflow-scrolling: touch; }

  .storyGrid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:14px}
  .storyItem{
    border:1px solid var(--stroke);
    background:rgba(0,0,0,.18);
    border-radius:16px;
    padding:14px;
  }
  .storyItem h4{margin:0 0 6px;font-size:13px;letter-spacing:.4px}
  .storyItem p{margin:0;color:var(--muted);font-size:13px;line-height:1.55}
  .mutedLink{border-bottom:1px solid rgba(255,255,255,.12)}

  /* MOBILE winner banner */
  @media (max-width:560px){
    .brandText p{display:none;}
    .winnerBanner{ padding: 11px 11px; }
    .wbWallet{max-width: 72vw;}
    .wbRight{display:none;}
  }

    /* =========================
   CLEAN HEADER LAYOUT FIX
   (mobile-safe, no overlap)
========================= */

/* topbar stays sticky */
.topbar{
  position: sticky;
  top: 0;
  z-index: 999;
  padding: 10px 0;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background: rgba(7,10,15,.60);
  border-bottom: 1px solid rgba(255,255,255,.07);
}

.topbar.scrolled{
  background: rgba(7,10,15,.78);
}

/* turn header into a grid so things NEVER collide */
header.siteHeader{
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-areas:
    "brand ctas"
    "banner banner";
  gap: 12px;
  align-items: center;
  padding: 8px 0 10px;
}

/* brand area */
header.siteHeader .brand{
  grid-area: brand;
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
}

header.siteHeader .logoImg{
  width: 54px;
  height: 54px;
  border-radius: 16px;
  flex: 0 0 auto;
}

header.siteHeader .brandText{
  min-width: 0;
}

header.siteHeader .brandText h1{
  margin: 0;
  font-size: 18px;
  line-height: 1.1;
  letter-spacing: .2px;
}

header.siteHeader .brandText p{
  margin: 5px 0 0;
  font-size: 13px;
  color: var(--muted);
}

/* ctas area */
header.siteHeader .ctaRow{
  grid-area: ctas;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: flex-end;
  flex-wrap: nowrap;
}

/* winner banner ALWAYS on its own row */
header.siteHeader .winnerBanner{
  grid-area: banner;
  width: 100%;
  margin-top: 2px; /* slight tuck */
}

/* MOBILE: stack into 3 rows and center nicely */
@media (max-width: 560px){
  header.siteHeader{
    grid-template-columns: 1fr;
    grid-template-areas:
      "brand"
      "ctas"
      "banner";
    gap: 10px;
    padding: 8px 0 10px;
  }

  header.siteHeader .brand{
    justify-content: center;
    text-align: center;
  }

  header.siteHeader .brandText p{
    display: none; /* keeps it clean on small screens */
  }

  /* buttons on one clean row */
  header.siteHeader .ctaRow{
    display: grid;
    grid-template-columns: 1fr 1fr auto; /* Community | Trade | Menu */
    width: 100%;
    gap: 10px;
    justify-content: center;
  }

  header.siteHeader .btn{
    justify-content: center;
    padding: 11px 12px;
  }

  header.siteHeader .iconOnly{
    width: 44px;
    height: 44px;
  }

  /* dropdown menu positioning on mobile */
  header.siteHeader .menu{
    right: 0;
    top: 54px;
  }
}

/* =========================
   Winner Banner (your glow)
   (keep your existing styles)
========================= */
.winnerBanner{
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background:
    radial-gradient(900px 180px at 10% 50%, rgba(0,255,163,.14), transparent 60%),
    radial-gradient(900px 180px at 90% 50%, rgba(220,31,255,.14), transparent 60%),
    rgba(0,0,0,.22);
  box-shadow:
    0 16px 55px rgba(0,0,0,.55),
    0 0 0 1px rgba(255,255,255,.04) inset;
  padding: 12px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  position: relative;
  overflow:hidden;
}

.winnerBanner::before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(520px 120px at 18% 50%, rgba(0,255,163,.22), transparent 60%),
    radial-gradient(520px 120px at 82% 50%, rgba(220,31,255,.18), transparent 60%);
  filter: saturate(1.2);
  pointer-events:none;
}

.winnerBanner::after{
  content:"";
  position:absolute;
  top:-40%;
  left:-30%;
  width:60%;
  height:180%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
  transform: rotate(18deg);
  animation: wbSheen 4.8s ease-in-out infinite;
  pointer-events:none;
  opacity:.8;
}

@keyframes wbSheen{
  0%, 35% { transform: translateX(-20%) rotate(18deg); opacity:.0; }
  45%     { opacity:.75; }
  70%,100%{ transform: translateX(220%) rotate(18deg); opacity:0; }
}

.wbLeft{display:flex; align-items:flex-start; gap:10px; min-width:0; position:relative}
.wbDot{
  width:10px; height:10px; border-radius:999px;
  background: linear-gradient(135deg, #00FFA3, #DC1FFF);
  box-shadow: 0 0 22px rgba(0,255,163,.55), 0 0 28px rgba(220,31,255,.35);
  margin-top: 4px;
  flex:0 0 auto;
}
.wbText{min-width:0; position:relative}
.wbTop{display:flex; align-items:baseline; gap:10px; flex-wrap:wrap}
.wbLabel{
  font-size:12px;
  letter-spacing:.8px;
  text-transform:uppercase;
  color: rgba(234,241,251,.70);
}
.wbAmt{
  font-family: var(--mono);
  font-weight: 900;
  color: #00FFA3;
  text-shadow: 0 0 16px rgba(0,255,163,.22);
  font-size: 13px;
}
.wbBottom{
  margin-top: 6px;
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
  font-size: 12px;
  color: var(--muted);
}
.wbBottom a{ border-bottom: 1px solid rgba(255,255,255,.18); text-decoration:none; }
.wbBottom a:hover{ border-bottom-color: rgba(255,255,255,.45); }
.wbSep{opacity:.55}
.wbWallet{
  font-family: var(--mono);
  max-width: 54vw;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.wbRight{position:relative; flex:0 0 auto}
.wbMeta{
  font-family: var(--mono);
  font-size: 12px;
  color: rgba(234,241,251,.75);
  white-space:nowrap;
}
@media (max-width:560px){
  .wbWallet{max-width: 72vw;}
  .wbRight{display:none;}
}

    /* ===== FIX: dropdown menu should float ABOVE winner banner ===== */

/* make sure header is a stacking context */
header.siteHeader{
  position: relative;
  z-index: 50;
}

/* winner banner sits ‚Äúbelow‚Äù in stacking order */
.winnerBanner{
  position: relative;
  z-index: 1;
}

/* keep banner glow layers behind everything */
.winnerBanner::before,
.winnerBanner::after{
  z-index: 0;
}

/* menu button + dropdown always on top */
.menuWrap{
  position: relative;
  z-index: 2000;
}

.menu{
  z-index: 3000;
}
</style>
</head>

<body id="top">
  <!-- Sticky topbar -->
<div class="topbar" id="topbar">
  <div class="wrap">
    <header class="siteHeader">

      <!-- Brand -->
      <div class="brand">
        <img class="logoImg"
             alt="Jackpot logo"
             src="https://raw.githubusercontent.com/LandoCrissian/Jackpot-Coin/refs/heads/main/IMG_9059.jpeg" />
        <div class="brandText">
          <h1>
            Jackpot Token
            <span style="color:var(--muted); font-weight:700;">(JACKPOT)</span>
          </h1>
          <p id="subtitle">SOL payouts ‚Ä¢ On-chain verification ‚Ä¢ Live cadence</p>
        </div>
      </div>

      <!-- CTAs + Menu (ONLY ONE menu button) -->
      <div class="ctaRow">
        <a class="btn"
           href="https://x.com/i/communities/2003622679861973461"
           target="_blank" rel="noopener">Community ‚Üó</a>

        <a class="btn btnPrimary"
           href="https://join.pump.fun/HSag/vuhfqa4u"
           target="_blank" rel="noopener">Trade on Pump v2 ‚Üó</a>

        <div class="menuWrap">
          <button class="btn iconOnly" id="menuBtn" type="button" aria-label="Menu">‚ò∞</button>
          <div class="menu" id="menu">
            <a href="#draw" class="menuLink"><span>Next Draw</span><small>timer + status</small></a>
            <a href="#winners" class="menuLink"><span>Recent Winners</span><small>scrollable payouts</small></a>
            <a href="#contract" class="menuLink"><span>Contract</span><small>copy CA</small></a>
            <a href="#story" class="menuLink"><span>The Story</span><small>legacy + CTO era</small></a>
            <div class="menuHr"></div>
            <a href="#top" class="menuLink"><span>Back to top</span><small>home</small></a>
          </div>
        </div>
      </div>

      <!-- Latest Winner banner (sticky under buttons as you scroll) -->
      <div class="winnerBanner" id="winnerBanner" aria-live="polite">
        <div class="wbLeft">
          <span class="wbDot" aria-hidden="true"></span>

          <div class="wbText">
            <div class="wbTop">
              <span class="wbLabel">Latest winner</span>
              <span class="wbAmt" id="wbAmt">‚Äî</span>
            </div>

            <div class="wbBottom">
              <a class="wbWallet" id="wbWallet" href="#" target="_blank" rel="noopener">‚Äî</a>
              <span class="wbSep">‚Ä¢</span>
              <a class="wbProof" id="wbProof" href="#" target="_blank" rel="noopener">View proof ‚Üó</a>
              <span class="wbSep">‚Ä¢</span>
              <a class="wbShare" id="wbShare" href="#" target="_blank" rel="noopener">Share ùïè ‚Üó</a>
            </div>
          </div>
        </div>

        <div class="wbRight">
          <span class="wbMeta" id="wbWhen">‚Äî</span>
        </div>
      </div>

    </header>
  </div>
</div>

  <div class="wrap">
    <div class="wrapInner">
      <div class="grid">
        <section class="card cardGlow" id="draw">
          <div class="kicker"><span class="dot"></span> Provably paid ‚Ä¢ Verifiable on Solscan</div>
          <h2>Next Jackpot Draw</h2>
          <p class="sub">
            Countdown is synced to the <b>most recent on-chain payout</b>. Every winner below includes a direct Solscan proof link.
          </p>

          <div class="statusRow">
            <div class="pill"><strong>Status</strong>: <span id="liveStatus">Loading‚Ä¶</span></div>
            <div class="pill"><strong>Last payout</strong>: <span id="lastPayout">‚Äî</span></div>
            <div class="pill"><strong>Total paid</strong>: <span id="totalPaid">‚Äî</span></div>
            <div class="pill"><strong>SOL</strong>: <span id="solPrice">‚Äî</span></div>

            <!-- CTO wallet ALWAYS -->
            <a class="pill" id="payoutWalletLink" href="#" target="_blank" rel="noopener">
              <strong>Payout wallet</strong>: View ‚Üó
            </a>

            <!-- Legacy wallet only when applicable -->
            <a class="pill" id="legacyWalletLink" href="#" target="_blank" rel="noopener" style="display:none;">
              <strong>Legacy wallet</strong>: View ‚Üó
            </a>
          </div>

          <div class="legacyBanner" id="legacyBanner">
            <h3>Legacy Mode</h3>
            <p>
              You‚Äôre viewing historical payouts from Jackpot‚Äôs early phase.
              <b>All future payouts originate from the CTO wallet.</b>
            </p>
          </div>

          <div class="countWrap" role="group" aria-label="Countdown timer">
            <div class="timeBox">
              <div class="timeLabel">Minutes</div>
              <div class="timeVal" id="cdMin">--</div>
            </div>
            <div class="timeBox">
              <div class="timeLabel">Seconds</div>
              <div class="timeVal timeValAccent" id="cdSec">--</div>
            </div>
            <div class="timeBox">
              <div class="timeLabel">Next draw (UTC)</div>
              <div class="timeVal" style="font-size:14px; letter-spacing:.2px" id="nextUtc">--</div>
            </div>
            <div class="timeBox">
              <div class="timeLabel">Cadence (observed)</div>
              <div class="timeVal" style="font-size:14px; letter-spacing:.2px" id="cadenceText">‚Äî</div>
            </div>
          </div>

          <div class="rowTitle" id="contract">
            <div class="label">Contract address</div>
            <div class="pill">Network: Solana</div>
          </div>

          <div class="addr">
            <code id="contractAddr">7ng7j9kyRQNvaJCfJwLcxsWBYxi37biGgudcF3fVaGV2</code>
            <button class="miniBtn" id="copyBtn" type="button">Copy</button>
          </div>

          <div class="trust" aria-label="Trust and transparency">
            <h3>Trust & transparency</h3>
            <ul>
              <li><b>On-chain payouts:</b> winners are paid directly on Solana.</li>
              <li><b>System Program transfers:</b> standard native SOL transfers.</li>
              <li><b>Independent verification:</b> every winner links to Solscan proof.</li>
              <li><b>Read-only site:</b> no wallet connect, no permissions, no approvals.</li>
            </ul>
          </div>

          <div class="foot">Always verify the contract address and transactions via official links.</div>
          <div class="toast" id="toast"></div>
        </section>

        <aside class="card" id="winners">
          <div class="sectionHead">
            <h3>Recent winners</h3>
            <span class="badge" id="updatedBadge"><strong>Updated</strong>: --</span>
          </div>

          <ul class="winners" id="winnersList"></ul>

          <div class="foot">
            Winners are pulled from on-chain System Program transfers from the payout wallet.
          </div>
        </aside>
      </div>

      <!-- Story -->
      <section class="card" id="story" style="margin-top:14px;">
        <div class="sectionHead">
          <h3>The Story</h3>
          <span class="badge"><strong>Living log</strong>: updated over time</span>
        </div>

        <div class="storyGrid">
          <div class="storyItem">
            <h4>Day 0 ‚Äî Jackpot is launched</h4>
            <p>Jackpot begins as an experiment in provable, on-chain SOL payouts using standard Solana System Program transfers.</p>
          </div>

          <div class="storyItem">
            <h4>Pump.fun v2 ‚Äî Early bonded token</h4>
            <p>
              Jackpot was one of the earliest tokens bonded using Pump.fun v2 mechanics ‚Äî a real-world test of v2 behavior in live conditions.
              We‚Äôll continue documenting the technical journey here.
              <a class="mutedLink" href="https://x.com/IamtheTachi" target="_blank" rel="noopener">@IamtheTachi ‚Üó</a>
            </p>
          </div>

          <div class="storyItem">
            <h4>Legacy Era ‚Äî Payout history preserved</h4>
            <p>Legacy payouts remain publicly verifiable for transparency. They‚Äôre part of the record ‚Äî not erased.</p>
          </div>

          <div class="storyItem">
            <h4>CTO Era ‚Äî New payout wallet active</h4>
            <p>
              The CTO wallet is now the source of truth for future payouts and stability.
              The site is built to prevent resets and avoid ‚Äújumping‚Äù totals across visitors.
            </p>
          </div>
        </div>

        <div class="foot">This section is intentionally simple ‚Äî we add new entries as the project evolves.</div>
      </section>
    </div>
  </div>

  <script>
  const CONFIG = {
    api: "/.netlify/functions/get-winners",
    solscanTxBase: "https://solscan.io/tx/",
    solscanAccountBase: "https://solscan.io/account/",
    contract: "7ng7j9kyRQNvaJCfJwLcxsWBYxi37biGgudcF3fVaGV2",
    community: "https://x.com/i/communities/2003622679861973461",
    trade: "https://join.pump.fun/HSag/vuhfqa4u",
    site: "https://www.jackpotcoin.fun/",
    cadenceMs: 15 * 60 * 1000,
    ctoWallet: "5Y8ty4BuoqVUmfZcLiNkpCPpZmt5Hf653REvJz2BRUrK",
  };

  let lastPayoutUTC_FROM_API = null;

  function pad2(n){ return String(n).padStart(2, "0"); }
  function shortAddr(a){ return (!a || a.length < 12) ? (a || "") : a.slice(0,6)+"‚Ä¶"+a.slice(-4); }
  function utcString(iso){ try { return new Date(iso).toUTCString(); } catch { return ""; } }
  function minutesAgo(iso){
    if(!iso) return null;
    const ms = Date.now() - Date.parse(iso);
    if (!Number.isFinite(ms)) return null;
    return Math.max(0, Math.floor(ms / 60000));
  }
  function formatUtcHM(ms){
    const d = new Date(ms);
    return `${pad2(d.getUTCHours())}:${pad2(d.getUTCMinutes())} UTC`;
  }

  /* ===== MENU ===== */
  const menuBtn = document.getElementById("menuBtn");
  const menu = document.getElementById("menu");

  menuBtn.addEventListener("click", () => menu.classList.toggle("open"));
  document.querySelectorAll(".menuLink").forEach(a => {
    a.addEventListener("click", () => menu.classList.remove("open"));
  });
  document.addEventListener("click", (e) => {
    if (!menu.contains(e.target) && e.target !== menuBtn) menu.classList.remove("open");
  });

  /* ===== TOPBAR SCROLL STYLE ===== */
  (function stickyGlass(){
    const bar = document.getElementById("topbar");
    function onScroll(){
      bar.classList.toggle("scrolled", (window.scrollY || 0) > 8);
    }
    onScroll();
    window.addEventListener("scroll", onScroll, { passive:true });
  })();

  /* ===== HEADER ‚ÄúDIM WHILE SCROLLING‚Äù (optional) ===== */
  (function headerScrollFade(){
    const h = document.querySelector(".siteHeader");
    if(!h) return;
    let t = null;
    window.addEventListener("scroll", () => {
      h.classList.add("isScrolling");
      clearTimeout(t);
      t = setTimeout(() => h.classList.remove("isScrolling"), 160);
    }, { passive:true });
  })();

  function showToast(msg){
    const el = document.getElementById("toast");
    el.textContent = msg;
    el.classList.add("show");
    clearTimeout(showToast._t);
    showToast._t = setTimeout(() => el.classList.remove("show"), 2200);
  }

  function computeNextDrawMs(nowMs, lastPayoutUTC){
    const lastMs = lastPayoutUTC ? Date.parse(lastPayoutUTC) : NaN;
    if (!Number.isNaN(lastMs)) {
      if (nowMs <= lastMs) return lastMs + CONFIG.cadenceMs;
      const elapsed = nowMs - lastMs;
      const steps = Math.floor(elapsed / CONFIG.cadenceMs) + 1;
      return lastMs + steps * CONFIG.cadenceMs;
    }
    return Math.ceil(nowMs / CONFIG.cadenceMs) * CONFIG.cadenceMs;
  }

  function tickCountdown(){
    const now = Date.now();
    const next = computeNextDrawMs(now, lastPayoutUTC_FROM_API);
    const diff = Math.max(0, next - now);
    const totalSec = Math.floor(diff / 1000);
    const minutes = Math.floor(totalSec / 60);
    const seconds = totalSec % 60;

    document.getElementById("cdMin").textContent = pad2(minutes);
    document.getElementById("cdSec").textContent = pad2(seconds);
    document.getElementById("nextUtc").textContent = formatUtcHM(next);
  }
  setInterval(tickCountdown, 250);
  tickCountdown();

  document.getElementById("copyBtn").addEventListener("click", async () => {
    const btn = document.getElementById("copyBtn");
    try{
      await navigator.clipboard.writeText(CONFIG.contract);
      const old = btn.textContent;
      btn.textContent = "Copied";
      setTimeout(() => btn.textContent = old, 900);
    }catch(e){
      alert("Copy failed. Please copy manually.");
    }
  });

  function setUpdatedBadge(iso){
    const el = document.getElementById("updatedBadge");
    el.innerHTML = iso ? `<strong>Updated</strong>: ${utcString(iso)}` : `<strong>Updated</strong>: ‚Äî`;
  }

  function setStatus(data){
    const live = document.getElementById("liveStatus");
    const last = document.getElementById("lastPayout");

    // CTO wallet link always points to CTO wallet
    const payoutWalletLink = document.getElementById("payoutWalletLink");
    payoutWalletLink.href = CONFIG.solscanAccountBase + CONFIG.ctoWallet;

    // Legacy wallet link only if API says we‚Äôre in legacy mode
    const legacyLink = document.getElementById("legacyWalletLink");
    const legacyBanner = document.getElementById("legacyBanner");

    const inLegacy = (data?.mode === "legacy") && data?.payoutWallet;
    if (inLegacy) {
      legacyLink.style.display = "";
      legacyLink.href = CONFIG.solscanAccountBase + data.payoutWallet;
      legacyBanner.classList.add("show");
    } else {
      legacyLink.style.display = "none";
      legacyBanner.classList.remove("show");
    }

    if (data?.stale || data?.error) live.textContent = "Feed unstable (showing last known)";
    else if (inLegacy) live.textContent = "Legacy mode (history)";
    else live.textContent = "Live";

    const m = minutesAgo(data?.lastPayoutUTC || lastPayoutUTC_FROM_API);
    last.textContent = (m === null) ? "‚Äî" : `${m}m ago`;
  }

  function xShareUrl(w){
    const amt = (typeof w?.amountSOL === "number") ? w.amountSOL.toFixed(4) : (w?.amountSOL ?? "‚Äî");
    const txUrl = w?.solscanUrl || (w?.tx ? (CONFIG.solscanTxBase + w.tx) : "");
    const text =
`üéâ Jackpot winner paid on Solana
üí∞ ${amt} SOL
üîç Proof: ${txUrl}

Join the community:
${CONFIG.community}

Trade JACKPOT:
${CONFIG.trade}

Live status:
${CONFIG.site}

üôè Huge thanks to @IamtheTachi for getting Jackpot up and running again.`;
    return "https://twitter.com/intent/tweet?text=" + encodeURIComponent(text);
  }

  function setWinnerBanner(w){
    const banner = document.getElementById("winnerBanner");
    if(!banner) return;

    const amtEl = document.getElementById("wbAmt");
    const walletEl = document.getElementById("wbWallet");
    const proofEl = document.getElementById("wbProof");
    const shareEl = document.getElementById("wbShare");
    const whenEl = document.getElementById("wbWhen");

    if(!w){
      amtEl.textContent = "‚Äî";
      walletEl.textContent = "‚Äî";
      walletEl.href = "#";
      proofEl.href = "#";
      shareEl.href = "#";
      whenEl.textContent = "‚Äî";
      return;
    }

    const amt = (typeof w.amountSOL === "number") ? w.amountSOL.toFixed(4) : w.amountSOL;
    const walletFull = (w.wallet || "").trim();
    const txUrl = w.solscanUrl || (w.tx ? (CONFIG.solscanTxBase + w.tx) : "#");

    amtEl.textContent = `${amt} SOL`;
    walletEl.textContent = shortAddr(walletFull);
    walletEl.href = walletFull ? (CONFIG.solscanAccountBase + walletFull) : "#";
    proofEl.href = txUrl;
    shareEl.href = xShareUrl(w);
    whenEl.textContent = w.whenUTC ? new Date(w.whenUTC).toUTCString() : "‚Äî";
  }

  function winnerItem(w){
    const walletFull = (w.wallet || "").trim();
    const tx = (w.tx || "").trim();
    const walletShort = shortAddr(walletFull);

    const solscanWallet = walletFull ? (CONFIG.solscanAccountBase + walletFull) : null;
    const solscanTx = w.solscanUrl || (tx ? (CONFIG.solscanTxBase + tx) : null);

    const amount = typeof w.amountSOL === "number" ? `${w.amountSOL.toFixed(4)} SOL` : (w.amountSOL || "‚Äî");
    const when = w.whenUTC ? utcString(w.whenUTC) : "‚Äî";

    const li = document.createElement("li");
    li.className = "win";
    li.innerHTML = `
      <div class="winLeft">
        <div class="who" title="${walletFull}">
          ${solscanWallet ? `<a href="${solscanWallet}" target="_blank" rel="noopener">${walletShort}</a>` : walletShort}
        </div>
        <div class="meta">
          <span>${when}</span>
          ${solscanTx ? `<span>‚Ä¢</span><a href="${solscanTx}" target="_blank" rel="noopener">View proof ‚Üó</a>` : ""}
          ${solscanTx ? `<span>‚Ä¢</span><a class="iconBtn" href="${xShareUrl(w)}" target="_blank" rel="noopener">Share ùïè ‚Üó</a>` : ""}
        </div>
      </div>
      <div class="amt">${amount}</div>
    `;
    return li;
  }

  function renderWinners(listEl, winners){
    const items = Array.isArray(winners) ? winners : [];
    listEl.innerHTML = "";

    if (!items.length) {
      const empty = document.createElement("li");
      empty.className = "win";
      empty.innerHTML = `
        <div class="winLeft">
          <div class="who">No payouts detected yet</div>
          <div class="meta">When the payout wallet sends a System Program SOL transfer, it will appear here with proof.</div>
        </div>
        <div class="amt">‚Äî</div>`;
      listEl.appendChild(empty);
      return;
    }

    items.forEach(w => listEl.appendChild(winnerItem(w)));
  }

  (function bootFromStorage(){
    const list = document.getElementById("winnersList");
    const key = "jackpot_last_good_payload_v2";
    try{
      const saved = JSON.parse(localStorage.getItem(key) || "null");
      if (saved?.winners?.length) {
        if (saved.lastPayoutUTC) lastPayoutUTC_FROM_API = saved.lastPayoutUTC;

        if (typeof saved.cadenceSeconds === "number" && saved.cadenceSeconds > 0) {
          CONFIG.cadenceMs = saved.cadenceSeconds * 1000;
          document.getElementById("cadenceText").textContent = `~${Math.round(CONFIG.cadenceMs / 60000)} min`;
        }

        setUpdatedBadge(saved.updatedUTC || null);
        setStatus(saved);
        renderWinners(list, saved.winners);
        setWinnerBanner(saved.winners?.[0] || null);
      }
    }catch{}
  })();

  async function loadWinners(){
    const list = document.getElementById("winnersList");
    const keyLastGood = "jackpot_last_good_payload_v2";

    try{
      const res = await fetch(`${CONFIG.api}?limit=200`, { cache: "no-store" });
      if(!res.ok) throw new Error("HTTP " + res.status);
      const data = await res.json();

      // Total paid + SOL price
      const totalPaidEl = document.getElementById("totalPaid");
      const solPriceEl  = document.getElementById("solPrice");

      if (typeof data?.solUsd === "number") solPriceEl.textContent = `$${data.solUsd.toFixed(2)}`;
      else solPriceEl.textContent = "‚Äî";

      if (typeof data?.totalPaidSOLTracked === "number") {
        const sol = data.totalPaidSOLTracked;
        const usd = (typeof data?.totalPaidUSDTracked === "number") ? data.totalPaidUSDTracked : null;
        totalPaidEl.textContent = (usd !== null)
          ? `${sol.toFixed(4)} SOL (~$${usd.toFixed(2)})`
          : `${sol.toFixed(4)} SOL`;
      } else {
        totalPaidEl.textContent = "‚Äî";
      }

      if (data?.lastPayoutUTC) lastPayoutUTC_FROM_API = data.lastPayoutUTC;

      if (typeof data?.cadenceSeconds === "number" && data.cadenceSeconds > 0) {
        CONFIG.cadenceMs = data.cadenceSeconds * 1000;
        document.getElementById("cadenceText").textContent = `~${Math.round(CONFIG.cadenceMs / 60000)} min`;
      }

      setUpdatedBadge(data.updatedUTC || null);
      setStatus(data);

      if (Array.isArray(data?.winners) && data.winners.length) {
        renderWinners(list, data.winners);
        setWinnerBanner(data.winners?.[0] || null);

        localStorage.setItem(keyLastGood, JSON.stringify({
          updatedUTC: data.updatedUTC,
          lastPayoutUTC: data.lastPayoutUTC || lastPayoutUTC_FROM_API,
          cadenceSeconds: data.cadenceSeconds || Math.round(CONFIG.cadenceMs / 1000),
          winners: data.winners,
          mode: data.mode || "active",
          payoutWallet: data.payoutWallet || null,
        }));
      } else {
        showToast("Waiting for RPC index‚Ä¶ keeping last winners");
      }

      if (data?.stale || data?.error) showToast("RPC hiccup ‚Äî showing last known");
    }catch(e){
      showToast("Feed unstable ‚Äî keeping last winners");
      document.getElementById("liveStatus").textContent = "Feed unstable (showing last known)";
    }
  }

  loadWinners();
  setInterval(loadWinners, 12_000);
</script>
</body>
</html>
